<?xml version="1.0" encoding="UTF-8" ?>
<project name="Kripki" default="build" basedir="." xmlns:doxygen="antlib:org.doxygen.tools" xmlns:ivy="antlib:org.apache.ivy.ant">
	<property name="src.dir" location="src" />
	<property name="bin.dir" location="bin" />
	<property name="db.dir" location="db" />

	<path id='build.path'>
	</path>
	<path id='run.path'>
    	<path location="${bin.dir}"/>
    	<path location="."/>
	</path>

	<target name='clean' description="Delete compiled binaries">
		<delete dir="${bin.dir}" />
	</target>

	<target name='build'>
		<mkdir dir="${bin.dir}" />
		<javac encoding="utf8" includeantruntime="false" srcdir="${src.dir}" debug="on" destdir="${bin.dir}" classpathref="build.path" />
	</target>

	<target name='runserver' depends='build, cl-args' description="Run the server">
		<mkdir dir="${db.dir}" />
		<java classpathref="run.path" classname='hu.ppke.itk.sciar.kripki.server.Server' fork='true'>
			<assertions enableSystemAssertions="true" >
				<enable package="hu.ppke.itk.sciar.kripki.server" />
			</assertions>
		</java>
	</target>

	<target name="cl-args" unless="args">
		<property name="args" value="" />
	</target>

</project>
